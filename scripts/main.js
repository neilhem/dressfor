"use strict";var patternConfig={categories:[{name:"forest",patterns:[{colors:[{name:"black",image:"01"}]},{colors:[{name:"red",image:"02_1"},{name:"yellow",image:"02_2"},{name:"green",image:"02_3"}]},{colors:[{name:"black",image:"03"}]},{colors:[{name:"black",image:"04"}]},{colors:[{name:"black",image:"05"}]},{colors:[{name:"yellow",image:"06_2"},{name:"green",image:"06_3"}]},{colors:[{name:"black",image:"07"}]},{colors:[{name:"red",image:"08_1"},{name:"yellow",image:"08_2"},{name:"green",image:"08_3"}]},{colors:[{name:"black",image:"09"}]},{colors:[{name:"yellow",image:"10_2"},{name:"green",image:"10_3"},{name:"black",image:"10_4"}]},{colors:[{name:"black",image:"11"}]},{colors:[{name:"black",image:"12_1"},{name:"yellow",image:"12_2"},{name:"green",image:"12_3"}]},{colors:[{name:"yellow",image:"13_2"},{name:"green",image:"13_3"}]},{colors:[{name:"black",image:"14"}]},{colors:[{name:"black",image:"15"}]},{colors:[{name:"black",image:"16"}]}]}]},userSelectedCat=!1;$(function(){$(".js-raty").raty({starOff:"/images/star-off.png",starOn:"/images/star-on.png"});new Swiper(".swiper-container",{pagination:".swiper-pagination",paginationClickable:".swiper-pagination",autoplay:5e3,spaceBetween:30,effect:"fade",onSlideChangeEnd:function(a){}});$(".js-cat .dropdown-menu > li > a").on("click",function(a){a.preventDefault(),console.log(a),$(".js-cat .dropdown-menu > li").removeClass("active"),$(this).parent().addClass("active"),$(".js-cat-text").text($(this).text()),$(".js-cat-link").attr("href",$(this).attr("href"))})}),function(a,b){function c(a){console.log(a),f&&(f=!1,console.log(d));var b=a,c=new fabric.Image(b,{top:100,left:100,borderColor:"#bfbfbf",cornerColor:"#bfbfbf",cornerSize:6,lockScalingFlip:!0});c.scaleToWidth(70),d.add(c)}if(a("#showImage").length){var d=new fabric.Canvas("pattern"),e=new fabric.StaticCanvas("showImage"),f=!0;d.backgroundColor="#fff",fabric.Image.fromURL("images/forest/pattern.png",function(a){a.scaleToWidth(265),d.add(a).setActiveObject(a),d.renderAll()}),fabric.Image.fromURL(a("#showImage").data("image"),function(a){console.log(a.width,a.height,e),e.width=a.width,e.height=a.height,e.add(a),e.renderAll()}),a(function(){var d=a(".pattern-list").data("index"),e=b.categories[d].name,f=b.categories[d].patterns;a.each(f,function(b,c){a(".pattern-list").append('<li><img src="images/'+e+"/patterns/"+c.colors[0].image+'.png" alt="">')}),a(".pattern-list > li > img").on("click",function(){c(this)})})}}(jQuery,patternConfig);